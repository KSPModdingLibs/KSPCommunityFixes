// You can set specific patches to false to disable them

KSP_COMMUNITY_FIXES
{
  // ##########################
  // Major bugfixes
  // ##########################
  
  // Vessel recovery funds properly account for modules implementing IPartCostModifier
  RefundingOnRecovery = true

  // Fix the whole kerbal inventory persistence system being inactive in 1.12.2
  // This cause multiple issues, like being able to bypass kerbal inventories mass/volume
  // limits, and various cargo part duplication / disappearance issues when EVAing / boarding.
  KerbalInventoryPersistence = true

  // Prevent unrecoverable part position drift of Breaking Grounds DLC robotic parts and their
  // children parts.
  RoboticsDrift = true

  // Multiple fixes for the KSP 1.12.3 docking port rotation feature, including rotation induced
  // part position drift.
  DockingPortRotationDriftAndFixes = true

  // Stock autostruts are creating joints between the parts at their current in-physics position, 
  // essentially "freezing" the current vessel deformation in place and making them fight against 
  // the regular part joints. This patch change the autostrut joints to target the vessel original 
  // pristine part positions instead. This improve the overall physics stability when using 
  // autostruts and prevent weird deformations following vessel modification events (decoupling, 
  // docking/undocking, fairing separation...)
  AutoStrutDrift = true

  // Prevent modules persisted state from being lost in existing saves/ships following
  // a mod installation/uninstallation/update
  ModuleIndexingMismatch = true

  // Fix part rotations not being reset to their pristine value when a non-landed is packed,
  // resulting in permanent part rotation drift when docking and other minor/cosmetic issues.
  PackedPartsRotation = true

  // Prevent potential order of execution issues during part initialization. 
  // This fixes the root cause of the "FlightSceneLoadKraken" issue (vessel deformation and kraken 
  // events on scene load) in a more consistent way, and also prevent similar kraken issues when 
  // placing parts with EVA construction.
  PartStartStability = true

  // ##########################
  // Minor bugfixes
  // ##########################

  // Fix the expanded/retracted state of Part Action Window groups being reset
  // when the PAW is internally rebuilt (especially frequent in the editor).
  PAWGroupMemory = true

  // Fix PAW item position randomly changing and flickering 
  PAWItemsOrder = true

  // Fix the kerbals tooltip giving wrong "Max sustainable G" information
  KerbalTooltipMaxSustainedG = true

  // Fix a bug causing the ROC manager to crash during loading with Kopernicus modified systems 
  ROCValidationOOR = true

  // Fix reaction wheels reporting incorrect available torque when the "Wheel Authority" 
  // tweakable is set below 100%. This fix instability issues with the stock SAS and other 
  // attitude controllers from various mods.
  ReactionWheelsPotentialTorque = true

  // Make the stock alarm to respect the day/year length defined by mods like
  // Kronometer. Fix the underlying AppUIMemberDateTime UI widget API to use the
  // custom IDateTimeFormatter if implemented.
  StockAlarmCustomFormatterDate = true

  // Stock alarm preserve line breaks (and tabs) in the description field
  StockAlarmDescPreserveLineBreak = true

  // Fix deployable parts (antennas, solar panels, radiators...) always starting in the extended 
  // state when the model isn't exported in the retracted state. Affect parts from various mods.
  ExtendedDeployableParts = true
  
  // Fix the delta V data (and info panels) on stage UI elements showing
  // when the delta V app and delta V calculations are disabled.
  // Also hide extended burn time info on the navball in this case, because
  // it depends on the stock delta V implementation.
  DeltaVHideWhenDisabled = true

  // Fixes an issue where if a vessel starts out splashed, and decouples from its only
  // splashed parts, it will never leave the splashed state.
  // This also fixes an issue where Splashed overrides Prelaunch as a Situation.
  StickySplashedFixer = true

  // Fix the asteroid/comet spawner generating non-unique Part.flightId identifiers. This has 
  // a few minor side effects in stock (mainly incorrect science bonuses), but this field is 
  // heavily relied upon by various mods and this can cause major issues for them.
  AsteroidSpawnerUniqueFlightId = true
  CometSpawnerUniqueFlightId = true

  // Fix editor tooltip part icons not spinning anymore after hovering on a greyed out surface
  // attachable only part while the editor is empty.
  PartListTooltipIconSpin = true

  // Fix incorrect terrain scatter distribution when a partial longitude range is defined in the
  // PQSLandControl definition.
  ScatterDistribution = true

  // Fix audio source not being centered/aligned with the current vessel after scene switches,
  // causing loss of vessel effects audio and random volume or left/right channel weirdness.
  LostSoundAfterSceneSwitch = true

  // Fix recovery of EVAing kerbals either causing their inventory to be recovered twice or the
  // science data they carry not being recovered, depending on the EVA kerbal variant/suit.
  EVAKerbalRecovery = true

  // Fix rescaled servo parts propagating their scale to childrens after actuating the servo in the editor
  RescaledRoboticParts = true

  // Fix engine plates causing the part attached above them to be incorrectly shielded from airstream
  EnginePlateAirstreamShieldedTopPart = true

  // Fix asteroid/comet mass being restored to 100% when reloading after having mined it down to 0%
  AsteroidInfiniteMining = true

  // ##########################
  // Obsolete bugfixes
  // ##########################

  // Prevent kraken events on flight scene load
  // Disabled by default, the PartStartStability patch implement a better fix for that issue.
  FlightSceneLoadKraken = false

  // ##########################
  // Quality of life fixes
  // ##########################

  // Altimeter widget horizontal position tweakable in the pause menu settings
  AltimeterHorizontalPosition = true

  // Part Action Window inventory UI widgets in a collapsed group by default
  PAWCollapsedInventories = true
  
  // Part Action Window groups for a selection of stock modules
  PAWStockGroups = true

  // Allow tweaking the autostrut mode of wheels/landing legs
  TweakableWheelsAutostrut = true

  // Autostruts can be controlled with action groups
  AutostrutActions = true

  // Allow numeric input ("#" button) in "float edit" PAW items
  UIFloatEditNumericInput = true

  // Add and option to disable the stock maneuver tool from the KSP settings
  DisableManeuverTool = true

  // Make the "Fairing Expansion" state persistent 
  FairingMouseOverPersistence = true

  // Hides irrelevant extended info on the part tooltip for PartUpgrades in the RnD screen
  HidePartUpgradeExtendedInfo = true

  // Append "[Auto-Saved Craft]" when relevant to the craft name in the Launchpad / Runway UI
  AutoSavedCraftNameAtLaunch = true
  
  // Show date a contract finished when displaying info on a finished contract in Mission Control
  ShowContractFinishDates = true

  // Disable the "intro" popups appearing in the space center, VAB/SPH and tracking station
  // upon creating a new career game. Disabled by default.
  DisableNewGameIntro = false

  // Allows the AppLauncher (stock toolbar) to be collapsed and expanded via a button
  // prior to the Messages app icon. This button is shown even in Space Center UIs
  // like Mission Control, so it can be accessed there too.
  AppLauncherCollapseShow = true

  // ##########################
  // Performance tweaks
  // ##########################

  // Reduce scene loading time by caching the current save in memory instead of loading it from disk
  SceneLoadSpeedBoost = true

  // Prevent the buoyancy integrator from eating CPU cycles when the vessel isn't submerged
  OnDemandPartBuoyancy = true

  // Prevent huge memory allocations and resulting occasional stutter on PQS creation happening
  // when moving around near a body surface
  PQSUpdateNoMemoryAlloc = true

  // Fix a bunch of managed memory leaks, mainly by proactively removing GameEvents delegates 
  // originating from destroyed UnityEngine.Object instances. Will log detected leaks and memory
  // usage on scene switches.
  MemoryLeaks = true

  // Additional debugging options for the MemoryLeaks patch. This doesn't provide any user-facing
  // benefit, it just enable extra logging options that are useful to track down memory leaks.
  MEMORY_LEAKS_DEBUGGING
  {
    // Set to true if you want a more accurate figure for the managed memory usage logged by KSPCF 
    // on scene switches.
    ForceGCCollect = false

    // Enable detailed logging of GameEvents delegate leaks detected on scene switches. This only cover
    // leaks originating from destroyed UnityEngine.Object derivatives.
    LogDestroyedUnityObjectGameEventsLeaks = true

    // This will compare alive GameEvents delegates between the last and current scene switch for a given
    // scene, and log detailed information about classes that have an increasing amount of delegates for
    // the same GameEvent. Note that this doesn't include destroyed UnityEngine.Object instances leaks, use
    // the LogDestroyedUnityObjectGameEventsLeaks option to detect those.
    AdvancedGameEventsLeakDetection = false

    // Enable detailed logging of all GameEvents delegates remaining after scene destruction.
    // By comparing the results between two scene switches, this allow hunting down classes that are
    // leaking GameEvent subscriptions.
    LogGameEventsSubscribers = false
  }

  // KSP's stock ProgressTracking evaluates every progress node for every vessel in the universe.
  // There are ~19 progress nodes per celestial body, and this can get extremely expensive for mods with a
  // large number of bodies or saves with a large number of vessels.
  // This tweak only evaluates the currently active vessel and removes the per-body checks which don't
  // have any effect, at least in the stock game.
  ProgressTrackingSpeedBoost = true

  // The stock OrbitRenderer does a small amount of work even when the map mode is not open
  // For saves with lots of vessels (including asteroids) or planet packs with lots of bodies
  // this cost adds up to a lot
  OrbitRendererSpeedBoost = true

  // ##########################
  // Modding
  // ##########################

  // Fire GameEvents.onRoboticPartLockChanging and GameEvents.onRoboticPartLockChanged 
  // respectively before and after calls to ModuleDockingNode.ModifyLocked(), following
  // a modification of the ModuleDockingNode.nodeIsLocked field.
  // Disabled by default, you can enable it with a MM patch.
  DockingPortLockedEvents = false

  // Change the UI_Control.onSymmetryFieldChanged callback to behave identically to the
  // UI_Control.onFieldChanged callback :
  // - The callback will only be called when the field value has actually been modified.
  // - The "object" argument will contain the previous field value (instead of the new value).
  // Disabled by default, you can enable it with a MM patch.
  OnSymmetryFieldChanged = false

  // Implement `IConfigNode` members marked as `[Persistent]` serialization support when using 
  // the `CreateObjectFromConfig()`, `LoadObjectFromConfig()` and `CreateConfigFromObject()` methods.
  // Disabled by default, you can enable it with a MM patch.
  // Also adds support for [Persistent] tags on System.Guid
  PersistentIConfigNode = false

  // Fix Admin Building not using HeadImage if that is defined for a Department
  DepartmentHeadImage = true

  // ##########################
  // Localization tools
  // ##########################

  // Uncomment the next line and set it to the desired language code to generate a localization 
  // template on next KSP launch. The file will be created in the KSPCommunityFixes\Localization 
  // directory.
  // - if set to "en-us", this will generate the default localization file based on the source 
  //   code (english) strings.
  // - if set to another language, this will generate a localization file with the english 
  //   localization strings as comments. If a localization file for this language already exists, 
  //   the generated template will reuse existing translated strings.

  // GenerateLocTemplate = en-us
}
